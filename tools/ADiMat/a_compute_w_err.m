% Copyright (c) Microsoft Corporation.
% Licensed under the MIT license.

% Generated by ADiMat 0.6.0-4975
% © 2001-2008 Andre Vehreschild <vehreschild@sc.rwth-aachen.de>
% © 2009-2015 Johannes Willkomm <johannes@johannes-willkomm.de>
% TU Darmstadt, 64289 Darmstadt, Germany
% Visit us on the web at http://www.adimat.de/
% Report bugs to adimat-users@lists.sc.informatik.tu-darmstadt.de
%
%                             DISCLAIMER
% 
% ADiMat was prepared as part of an employment at the Institute for Scientific Computing,
% RWTH Aachen University, Germany and at the Institute for Scientific Computing,
% TU Darmstadt, Germany and is provided AS IS. 
% NEITHER THE AUTHOR(S), THE GOVERNMENT OF THE FEDERAL REPUBLIC OF GERMANY
% NOR ANY AGENCY THEREOF, NOR THE RWTH AACHEN UNIVERSITY, NOT THE TU DARMSTADT,
% INCLUDING ANY OF THEIR EMPLOYEES OR OFFICERS, MAKES ANY WARRANTY, EXPRESS OR IMPLIED,
% OR ASSUMES ANY LEGAL LIABILITY OR RESPONSIBILITY FOR THE ACCURACY, COMPLETENESS,
% OR USEFULNESS OF ANY INFORMATION OR PROCESS DISCLOSED, OR REPRESENTS THAT ITS USE
% WOULD NOT INFRINGE PRIVATELY OWNED RIGHTS.
%
% Parameters:
%  - dependents=w_err
%  - independents=w
%  - inputEncoding=ISO-8859-1
%
% Functions in this file: a_compute_w_err, rec_compute_w_err,
%  ret_compute_w_err
%

function [a_w nr_w_err] = a_compute_w_err(w, a_w_err)
   tmpca1 = w .* w;
   w_err = 1 - tmpca1;
   nr_w_err = w_err;
   [a_tmpca1 a_w] = a_zeros(tmpca1, w);
   if nargin < 2
      a_w_err = a_zeros1(w_err);
   end
   a_tmpca1 = adimat_adjsum(a_tmpca1, adimat_adjred(tmpca1, -a_w_err));
   a_w = adimat_adjsum(a_w, adimat_adjred(w, a_tmpca1 .* w));
   a_w = adimat_adjsum(a_w, adimat_adjred(w, w .* a_tmpca1));
end

function w_err = rec_compute_w_err(w)
   tmpca1 = w .* w;
   w_err = 1 - tmpca1;
   adimat_push(tmpca1, w_err, w);
end

function a_w = ret_compute_w_err(a_w_err)
   [w w_err tmpca1] = adimat_pop;
   [a_tmpca1 a_w] = a_zeros(tmpca1, w);
   if nargin < 1
      a_w_err = a_zeros1(w_err);
   end
   a_tmpca1 = adimat_adjsum(a_tmpca1, adimat_adjred(tmpca1, -a_w_err));
   a_w = adimat_adjsum(a_w, adimat_adjred(w, a_tmpca1 .* w));
   a_w = adimat_adjsum(a_w, adimat_adjred(w, w .* a_tmpca1));
end
